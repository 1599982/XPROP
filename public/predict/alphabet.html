<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Entrenamiento - Letras</title>

    <!-- Fuente Konkhmer Sleokchher -->
    <link
      href="https://fonts.googleapis.com/css2?family=Konkhmer+Sleokchher&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="{{ url_for('static', filename='styles/index.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/predict/alphabet.css') }}">

  </head>
  <body>
    <!-- Título -->
    <h2 class="title">Abecedario en Señas</h2>

<!-- Único cuadro azul -->
<div class="content-box">
  <!-- Sidebar -->
	<div class="sidebar">
		<button onclick="window.location.href='/'">
			<img src="{{ url_for('static', filename='images/icons/home.png') }}" alt="Inicio">
		</button>
		<button onclick="window.location.href='/previsione/alfabeto'">
			<img src="{{ url_for('static', filename='images/icons/letters.png') }}" alt="Letras">
		</button>
		<button onclick="window.location.href='/previsione/numeri'">
			<img src="{{ url_for('static', filename='images/icons/numbers.png') }}" alt="Número">
		</button>
		<button onclick="window.location.href='/allenamiento'">
			<img src="{{ url_for('static', filename='images/icons/training.png') }}" alt="Entrenando">
		</button>
		<button onclick="window.location.href='/'">
			<img src="{{ url_for('static', filename='images/icons/user.png') }}" alt="Usuario">
		</button>
	</div>


            <!-- Contenido principal -->
  <div class="main-content">
    <!-- Sección izquierda -->
    <div class="left-section">
      <!-- Detectores -->
      <div class="detectores">
        <!-- Detector 1: Mano Izquierda - Letras -->
        <div class="detector">
          <div class="detector-body">
            <div class="detected-letter" id="detected-letter-left">-</div>
            <div class="progress-bar">
              <div class="progress" id="letter-progress-left" style="width: 0%;">0%</div>
            </div>
          </div>
          <div class="detector-footer">Reconocimiento ABC</div>
        </div>

        <!-- Detector 2: Mano Derecha - Control -->
        <div class="detector">
          <div class="detector-body">
            <div class="hand-state" id="hand-state-right">ABIERTA</div>
            <div class="progress-bar">
              <div class="progress" id="hand-progress-right" style="width: 0%;">0%</div>
            </div>
          </div>
          <div class="detector-footer">Control de Escritura</div>
        </div>
      </div>
      <!-- Abecedario -->
		<div class="abecedario-container">
		    <div class="alphabet-grid" id="alphabet-grid">
				<template id="letter-content">
           			<div class="letter-item" data-letter="">
           				<img src="{{ url_for('static', filename='images/icons/letters/') }}" alt="">
            			<span></span>
              		</div>
             	</template>
		    </div>
		</div>
    </div>

         <!-- Sección derecha: Cámara -->
    <div class="right-section">
      <!-- Cuadro de letras detectadas -->
      <div class="detected-text-container">
        <div class="detected-text-header">
          <span>Texto Detectado</span>
          <div class="header-controls">
            <span id="write-status" class="write-status">✅ Listo</span>
            <button id="clear-text" class="clear-btn">Limpiar</button>
          </div>
        </div>
        <div class="detected-text-box" id="detected-text-box">
          <span id="detected-text"></span>
        </div>
      </div>

      <div class="camera-area">
        <div class="camera-placeholder">
          <video id="video" autoplay muted></video>
          <canvas id="canvas" width="450" height="400"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

    <!-- Librerías necesarias para MediaPipe -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='predict-alphabet.js') }}" type="module"></script>
  </body>
</html>
